<!DOCTYPE HTML>
<html>
<head>
    <style>
        canvas {
            border: 1px dashed #CCC;
        }
    </style>
</head>
<body>
<canvas id="myCanvas" width="100" height="100"></canvas>
<script>
    var canvas = document.getElementById('myCanvas');
    var ctx = canvas.getContext('2d');
    var al = 0;
    var start = 4.72;
    var cw = ctx.canvas.width;
    var ch = ctx.canvas.height;
    var diff;

    function progressSim() {
        diff = ((al/300) * Math.PI * 10*2).toFixed(2);
        ctx.clearRect(0, 0, cw, ch);
        ctx.lineWidth = 8;
        ctx.lineCap = 'round';
        ctx.fillStyle = '#09F';
        ctx.strokeStyle = '#09F';
        ctx.textAlign = 'center';
        ctx.fillText(al, cw * .5, ch * .5 + 2, cw);

        //start cyrcle
        ctx.beginPath();
        ctx.arc(50, 50, 30, start, diff / 10 + start, false);
        ctx.stroke();
        if (al >= 300) {
            clearTimeout(sim);
        }
        al+=1;

    }
    var sim = setInterval(progressSim, 60);

    function startTimer(duration, display) {
        var timer = duration, minutes, seconds;
        setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = minutes + ":" + seconds;

            if (--timer < 0) {
                timer = duration;
            }
        }, 1000);
    }

        var fiveMinutes = 60 ,
                display = document.querySelector('#time');
        if(fiveMinutes > 0) {
            console.log( startTimer(fiveMinutes, display));
        } else {
            alert("Game over");
        }

</script>
</body>
</html>
